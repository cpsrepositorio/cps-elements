import{a as Dt}from"./chunk.WSCFVSMZ.js";import{a as Ot}from"./chunk.YW7PM72I.js";import{a as zt,b as R,d as ht,e as kt}from"./chunk.FVZAJBTT.js";import{a as ut}from"./chunk.DRZBK76U.js";import{a as T,b as k,c as d,d as et,e as E}from"./chunk.K3RV6SX6.js";function X(t){return t.split("-")[1]}d(X,"t");function gt(t){return t==="y"?"height":"width"}d(gt,"e");function W(t){return t.split("-")[0]}d(W,"n");function G(t){return["top","bottom"].includes(W(t))?"x":"y"}d(G,"o");function Bt(t,e,n){let{reference:i,floating:s}=t,r=i.x+i.width/2-s.width/2,o=i.y+i.height/2-s.height/2,l=G(e),c=gt(l),f=i[c]/2-s[c]/2,p=l==="x",a;switch(W(e)){case"top":a={x:r,y:i.y-s.height};break;case"bottom":a={x:r,y:i.y+i.height};break;case"right":a={x:i.x+i.width,y:o};break;case"left":a={x:i.x-s.width,y:o};break;default:a={x:i.x,y:i.y}}switch(X(e)){case"start":a[l]-=f*(n&&p?-1:1);break;case"end":a[l]+=f*(n&&p?-1:1)}return a}d(Bt,"r");var Ht=d(async(t,e,n)=>{let{placement:i="bottom",strategy:s="absolute",middleware:r=[],platform:o}=n,l=r.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e)),f=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:p,y:a}=Bt(f,i,c),u=i,h={},m=0;for(let g=0;g<l.length;g++){let{name:x,fn:w}=l[g],{x:y,y:b,data:L,reset:A}=await w({x:p,y:a,initialPlacement:i,placement:u,strategy:s,middlewareData:h,rects:f,platform:o,elements:{reference:t,floating:e}});p=y!=null?y:p,a=b!=null?b:a,h=k(T({},h),{[x]:T(T({},h[x]),L)}),A&&m<=50&&(m++,typeof A=="object"&&(A.placement&&(u=A.placement),A.rects&&(f=A.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):A.rects),{x:p,y:a}=Bt(f,u,c)),g=-1)}return{x:p,y:a,placement:u,strategy:s,middlewareData:h}},"i");function Nt(t){return typeof t!="number"?function(e){return T({top:0,right:0,bottom:0,left:0},e)}(t):{top:t,right:t,bottom:t,left:t}}d(Nt,"a");function nt(t){return k(T({},t),{top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height})}d(nt,"l");async function ot(t,e){var n;e===void 0&&(e={});let{x:i,y:s,platform:r,rects:o,elements:l,strategy:c}=t,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:a="floating",altBoundary:u=!1,padding:h=0}=e,m=Nt(h),g=l[u?a==="floating"?"reference":"floating":a],x=nt(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(g)))==null||n?g:g.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(l.floating)),boundary:f,rootBoundary:p,strategy:c})),w=a==="floating"?k(T({},o.floating),{x:i,y:s}):o.reference,y=await(r.getOffsetParent==null?void 0:r.getOffsetParent(l.floating)),b=await(r.isElement==null?void 0:r.isElement(y))&&await(r.getScale==null?void 0:r.getScale(y))||{x:1,y:1},L=nt(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({rect:w,offsetParent:y,strategy:c}):w);return{top:(x.top-L.top+m.top)/b.y,bottom:(L.bottom-x.bottom+m.bottom)/b.y,left:(x.left-L.left+m.left)/b.x,right:(L.right-x.right+m.right)/b.x}}d(ot,"s");var pt=Math.min,Y=Math.max;function mt(t,e,n){return Y(t,pt(e,n))}d(mt,"u");var yt=d(t=>({name:"arrow",options:t,async fn(e){let{element:n,padding:i=0}=t||{},{x:s,y:r,placement:o,rects:l,platform:c}=e;if(n==null)return{};let f=Nt(i),p={x:s,y:r},a=G(o),u=gt(a),h=await c.getDimensions(n),m=a==="y"?"top":"left",g=a==="y"?"bottom":"right",x=l.reference[u]+l.reference[a]-p[a]-l.floating[u],w=p[a]-l.reference[a],y=await(c.getOffsetParent==null?void 0:c.getOffsetParent(n)),b=y?a==="y"?y.clientHeight||0:y.clientWidth||0:0;b===0&&(b=l.floating[u]);let L=x/2-w/2,A=f[m],B=b-h[u]-f[g],S=b/2-h[u]/2+L,F=mt(A,S,B),_=X(o)!=null&&S!=F&&l.reference[u]/2-(S<A?f[m]:f[g])-h[u]/2<0;return{[a]:p[a]-(_?S<A?A-S:B-S:0),data:{[a]:F,centerOffset:S-F}}}}),"m"),te=["top","right","bottom","left"],se=te.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]),ee={left:"right",right:"left",bottom:"top",top:"bottom"};function it(t){return t.replace(/left|right|bottom|top/g,e=>ee[e])}d(it,"h");function ne(t,e,n){n===void 0&&(n=!1);let i=X(t),s=G(t),r=gt(s),o=s==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(o=it(o)),{main:o,cross:it(o)}}d(ne,"y");var ie={start:"end",end:"start"};function dt(t){return t.replace(/start|end/g,e=>ie[e])}d(dt,"w");var wt=d(function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n;let{placement:i,middlewareData:s,rects:r,initialPlacement:o,platform:l,elements:c}=e,Lt=t,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:a,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0}=Lt,g=et(Lt,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]),x=W(i),w=W(o)===o,y=await(l.isRTL==null?void 0:l.isRTL(c.floating)),b=a||(w||!m?[it(o)]:function(O){let $=it(O);return[dt(O),$,dt($)]}(o));a||h==="none"||b.push(...function(O,$,q,V){let M=X(O),z=function(J,ft,Kt){let St=["left","right"],Pt=["right","left"],Qt=["top","bottom"],Zt=["bottom","top"];switch(J){case"top":case"bottom":return Kt?ft?Pt:St:ft?St:Pt;case"left":case"right":return ft?Qt:Zt;default:return[]}}(W(O),q==="start",V);return M&&(z=z.map(J=>J+"-"+M),$&&(z=z.concat(z.map(dt)))),z}(o,m,h,y));let L=[o,...b],A=await ot(e,g),B=[],S=((n=s.flip)==null?void 0:n.overflows)||[];if(f&&B.push(A[x]),p){let{main:O,cross:$}=ne(i,r,y);B.push(A[O],A[$])}if(S=[...S,{placement:i,overflows:B}],!B.every(O=>O<=0)){var F,_;let O=(((F=s.flip)==null?void 0:F.index)||0)+1,$=L[O];if($)return{data:{index:O,overflows:S},reset:{placement:$}};let q=(_=S.filter(V=>V.overflows[0]<=0).sort((V,M)=>V.overflows[1]-M.overflows[1])[0])==null?void 0:_.placement;if(!q)switch(u){case"bestFit":{var Tt;let V=(Tt=S.map(M=>[M.placement,M.overflows.filter(z=>z>0).reduce((z,J)=>z+J,0)]).sort((M,z)=>M[1]-z[1])[0])==null?void 0:Tt[0];V&&(q=V);break}case"initialPlacement":q=o}if(i!==q)return{reset:{placement:q}}}return{}}}},"b");var xt=d(function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){let{x:n,y:i}=e,s=await async function(r,o){let{placement:l,platform:c,elements:f}=r,p=await(c.isRTL==null?void 0:c.isRTL(f.floating)),a=W(l),u=X(l),h=G(l)==="x",m=["left","top"].includes(a)?-1:1,g=p&&h?-1:1,x=typeof o=="function"?o(r):o,{mainAxis:w,crossAxis:y,alignmentAxis:b}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:T({mainAxis:0,crossAxis:0,alignmentAxis:null},x);return u&&typeof b=="number"&&(y=u==="end"?-1*b:b),h?{x:y*g,y:w*m}:{x:w*m,y:y*g}}(e,t);return{x:n+s.x,y:i+s.y,data:s}}}},"O");function oe(t){return t==="x"?"y":"x"}d(oe,"D");var bt=d(function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){let{x:n,y:i,placement:s}=e,x=t,{mainAxis:r=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:y,y:b}=w;return{x:y,y:b}}}}=x,c=et(x,["mainAxis","crossAxis","limiter"]),f={x:n,y:i},p=await ot(e,c),a=G(W(s)),u=oe(a),h=f[a],m=f[u];if(r){let w=a==="y"?"bottom":"right";h=mt(h+p[a==="y"?"top":"left"],h,h-p[w])}if(o){let w=u==="y"?"bottom":"right";m=mt(m+p[u==="y"?"top":"left"],m,m-p[w])}let g=l.fn(k(T({},e),{[a]:h,[u]:m}));return k(T({},g),{data:{x:g.x-n,y:g.y-i}})}}},"E");var rt=d(function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){let{placement:n,rects:i,platform:s,elements:r}=e,A=t,{apply:o=d(()=>{},"m")}=A,l=et(A,["apply"]),c=await ot(e,l),f=W(n),p=X(n),a=G(n)==="x",{width:u,height:h}=i.floating,m,g;f==="top"||f==="bottom"?(m=f,g=p===(await(s.isRTL==null?void 0:s.isRTL(r.floating))?"start":"end")?"left":"right"):(g=f,m=p==="end"?"top":"bottom");let x=h-c[m],w=u-c[g],y=x,b=w;if(a?b=pt(u-c.right-c.left,w):y=pt(h-c.bottom-c.top,x),!e.middlewareData.shift&&!p){let B=Y(c.left,0),S=Y(c.right,0),F=Y(c.top,0),_=Y(c.bottom,0);a?b=u-2*(B!==0||S!==0?B+S:Y(c.left,c.right)):y=h-2*(F!==0||_!==0?F+_:Y(c.top,c.bottom))}await o(k(T({},e),{availableWidth:b,availableHeight:y}));let L=await s.getDimensions(r.floating);return u!==L.width||h!==L.height?{reset:{rects:!0}}:{}}}},"k");function P(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}d(P,"n");function H(t){return P(t).getComputedStyle(t)}d(H,"o");var Ft=Math.min,K=Math.max,lt=Math.round;function jt(t){let e=H(t),n=parseFloat(e.width),i=parseFloat(e.height),s=t.offsetWidth,r=t.offsetHeight,o=lt(n)!==s||lt(i)!==r;return o&&(n=s,i=r),{width:n,height:i,fallback:o}}d(jt,"c");function C(t){return _t(t)?(t.nodeName||"").toLowerCase():""}d(C,"s");var at;function Ct(){if(at)return at;let t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(at=t.brands.map(e=>e.brand+"/"+e.version).join(" "),at):navigator.userAgent}d(Ct,"u");function N(t){return t instanceof P(t).HTMLElement}d(N,"a");function D(t){return t instanceof P(t).Element}d(D,"d");function _t(t){return t instanceof P(t).Node}d(_t,"h");function $t(t){return typeof ShadowRoot=="undefined"?!1:t instanceof P(t).ShadowRoot||t instanceof ShadowRoot}d($t,"p");function st(t){let{overflow:e,overflowX:n,overflowY:i,display:s}=H(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(s)}d(st,"g");function re(t){return["table","td","th"].includes(C(t))}d(re,"m");function vt(t){let e=/firefox/i.test(Ct()),n=H(t),i=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||!!i&&i!=="none"||e&&n.willChange==="filter"||e&&!!n.filter&&n.filter!=="none"||["transform","perspective"].some(s=>n.willChange.includes(s))||["paint","layout","strict","content"].some(s=>{let r=n.contain;return r!=null&&r.includes(s)})}d(vt,"y");function Et(){return/^((?!chrome|android).)*safari/i.test(Ct())}d(Et,"x");function Rt(t){return["html","body","#document"].includes(C(t))}d(Rt,"w");function qt(t){return D(t)?t:t.contextElement}d(qt,"v");var Yt={x:1,y:1};function I(t){let e=qt(t);if(!N(e))return Yt;let n=e.getBoundingClientRect(),{width:i,height:s,fallback:r}=jt(e),o=(r?lt(n.width):n.width)/i,l=(r?lt(n.height):n.height)/s;return o&&Number.isFinite(o)||(o=1),l&&Number.isFinite(l)||(l=1),{x:o,y:l}}d(I,"L");function U(t,e,n,i){var s,r;e===void 0&&(e=!1),n===void 0&&(n=!1);let o=t.getBoundingClientRect(),l=qt(t),c=Yt;e&&(i?D(i)&&(c=I(i)):c=I(t));let f=l?P(l):window,p=Et()&&n,a=(o.left+(p&&((s=f.visualViewport)==null?void 0:s.offsetLeft)||0))/c.x,u=(o.top+(p&&((r=f.visualViewport)==null?void 0:r.offsetTop)||0))/c.y,h=o.width/c.x,m=o.height/c.y;if(l){let g=P(l),x=i&&D(i)?P(i):i,w=g.frameElement;for(;w&&i&&x!==g;){let y=I(w),b=w.getBoundingClientRect(),L=getComputedStyle(w);b.x+=(w.clientLeft+parseFloat(L.paddingLeft))*y.x,b.y+=(w.clientTop+parseFloat(L.paddingTop))*y.y,a*=y.x,u*=y.y,h*=y.x,m*=y.y,a+=b.x,u+=b.y,w=P(w).frameElement}}return{width:h,height:m,top:u,right:a+h,bottom:u+m,left:a,x:a,y:u}}d(U,"E");function j(t){return((_t(t)?t.ownerDocument:t.document)||window.document).documentElement}d(j,"R");function ct(t){return D(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}d(ct,"T");function Ut(t){return U(j(t)).left+ct(t).scrollLeft}d(Ut,"C");function Z(t){if(C(t)==="html")return t;let e=t.assignedSlot||t.parentNode||$t(t)&&t.host||j(t);return $t(e)?e.host:e}d(Z,"F");function Xt(t){let e=Z(t);return Rt(e)?e.ownerDocument.body:N(e)&&st(e)?e:Xt(e)}d(Xt,"W");function Q(t,e){var n;e===void 0&&(e=[]);let i=Xt(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),r=P(i);return s?e.concat(r,r.visualViewport||[],st(i)?i:[]):e.concat(i,Q(i))}d(Q,"D");function Mt(t,e,n){let i;if(e==="viewport")i=function(o,l){let c=P(o),f=j(o),p=c.visualViewport,a=f.clientWidth,u=f.clientHeight,h=0,m=0;if(p){a=p.width,u=p.height;let g=Et();(!g||g&&l==="fixed")&&(h=p.offsetLeft,m=p.offsetTop)}return{width:a,height:u,x:h,y:m}}(t,n);else if(e==="document")i=function(o){let l=j(o),c=ct(o),f=o.ownerDocument.body,p=K(l.scrollWidth,l.clientWidth,f.scrollWidth,f.clientWidth),a=K(l.scrollHeight,l.clientHeight,f.scrollHeight,f.clientHeight),u=-c.scrollLeft+Ut(o),h=-c.scrollTop;return H(f).direction==="rtl"&&(u+=K(l.clientWidth,f.clientWidth)-p),{width:p,height:a,x:u,y:h}}(j(t));else if(D(e))i=function(o,l){let c=U(o,!0,l==="fixed"),f=c.top+o.clientTop,p=c.left+o.clientLeft,a=N(o)?I(o):{x:1,y:1};return{width:o.clientWidth*a.x,height:o.clientHeight*a.y,x:p*a.x,y:f*a.y}}(e,n);else{let o=T({},e);if(Et()){var s,r;let l=P(t);o.x-=((s=l.visualViewport)==null?void 0:s.offsetLeft)||0,o.y-=((r=l.visualViewport)==null?void 0:r.offsetTop)||0}i=o}return nt(i)}d(Mt,"S");function Vt(t,e){return N(t)&&H(t).position!=="fixed"?e?e(t):t.offsetParent:null}d(Vt,"A");function Wt(t,e){let n=P(t),i=Vt(t,e);for(;i&&re(i)&&H(i).position==="static";)i=Vt(i,e);return i&&(C(i)==="html"||C(i)==="body"&&H(i).position==="static"&&!vt(i))?n:i||function(s){let r=Z(s);for(;N(r)&&!Rt(r);){if(vt(r))return r;r=Z(r)}return null}(t)||n}d(Wt,"H");function ae(t,e,n){let i=N(e),s=j(e),r=U(t,!0,n==="fixed",e),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};if(i||!i&&n!=="fixed")if((C(e)!=="body"||st(s))&&(o=ct(e)),N(e)){let c=U(e,!0);l.x=c.x+e.clientLeft,l.y=c.y+e.clientTop}else s&&(l.x=Ut(s));return{x:r.left+o.scrollLeft-l.x,y:r.top+o.scrollTop-l.y,width:r.width,height:r.height}}d(ae,"V");var tt={getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:i,strategy:s}=t,r=n==="clippingAncestors"?function(f,p){let a=p.get(f);if(a)return a;let u=Q(f).filter(x=>D(x)&&C(x)!=="body"),h=null,m=H(f).position==="fixed",g=m?Z(f):f;for(;D(g)&&!Rt(g);){let x=H(g),w=vt(g);x.position==="fixed"?h=null:(m?w||h:w||x.position!=="static"||!h||!["absolute","fixed"].includes(h.position))?h=x:u=u.filter(y=>y!==g),g=Z(g)}return p.set(f,u),u}(e,this._c):[].concat(n),o=[...r,i],l=o[0],c=o.reduce((f,p)=>{let a=Mt(e,p,s);return f.top=K(a.top,f.top),f.right=Ft(a.right,f.right),f.bottom=Ft(a.bottom,f.bottom),f.left=K(a.left,f.left),f},Mt(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:n,strategy:i}=t,s=N(n),r=j(n);if(n===r)return e;let o={scrollLeft:0,scrollTop:0},l={x:1,y:1},c={x:0,y:0};if((s||!s&&i!=="fixed")&&((C(n)!=="body"||st(r))&&(o=ct(n)),N(n))){let f=U(n);l=I(n),c.x=f.x+n.clientLeft,c.y=f.y+n.clientTop}return{width:e.width*l.x,height:e.height*l.y,x:e.x*l.x-o.scrollLeft*l.x+c.x,y:e.y*l.y-o.scrollTop*l.y+c.y}},isElement:D,getDimensions:function(t){return N(t)?jt(t):t.getBoundingClientRect()},getOffsetParent:Wt,getDocumentElement:j,getScale:I,async getElementRects(t){let{reference:e,floating:n,strategy:i}=t,s=this.getOffsetParent||Wt,r=this.getDimensions;return{reference:ae(e,await s(n),i),floating:T({x:0,y:0},await r(n))}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>H(t).direction==="rtl"};function Gt(t,e,n,i){i===void 0&&(i={});let{ancestorScroll:s=!0,ancestorResize:r=!0,elementResize:o=!0,animationFrame:l=!1}=i,c=s&&!l,f=c||r?[...D(t)?Q(t):t.contextElement?Q(t.contextElement):[],...Q(e)]:[];f.forEach(h=>{c&&h.addEventListener("scroll",n,{passive:!0}),r&&h.addEventListener("resize",n)});let p,a=null;if(o){let h=!0;a=new ResizeObserver(()=>{h||n(),h=!1}),D(t)&&!l&&a.observe(t),D(t)||!t.contextElement||l||a.observe(t.contextElement),a.observe(e)}let u=l?U(t):null;return l&&d(function h(){let m=U(t);!u||m.x===u.x&&m.y===u.y&&m.width===u.width&&m.height===u.height||n(),u=m,p=requestAnimationFrame(h)},"e")(),n(),()=>{var h;f.forEach(m=>{c&&m.removeEventListener("scroll",n),r&&m.removeEventListener("resize",n)}),(h=a)==null||h.disconnect(),a=null,l&&cancelAnimationFrame(p)}}d(Gt,"P");var It=d((t,e,n)=>{let i=new Map,s=T({platform:tt},n),r=k(T({},s.platform),{_c:i});return Ht(t,e,k(T({},s),{platform:r}))},"z");function Jt(t){return le(t)}d(Jt,"t");function At(t){return t.assignedSlot?t.assignedSlot:t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}d(At,"o");function le(t){for(let e=t;e;e=At(e))if(e instanceof Element&&getComputedStyle(e).display==="none")return null;for(let e=At(t);e;e=At(e)){if(!(e instanceof Element))continue;let n=getComputedStyle(e);if(n.display!=="contents"&&(n.position!=="static"||n.filter!=="none"||e.tagName==="BODY"))return e}return null}d(le,"r");var v=class extends kt{constructor(){super(...arguments);this.active=!1;this.placement="top";this.strategy="absolute";this.distance=0;this.skidding=0;this.arrow=!1;this.arrowPlacement="anchor";this.arrowPadding=10;this.flip=!1;this.flipFallbackPlacements="";this.flipFallbackStrategy="best-fit";this.flipPadding=0;this.shift=!1;this.shiftPadding=0;this.autoSizePadding=0}async connectedCallback(){super.connectedCallback(),await this.updateComplete,this.start()}disconnectedCallback(){this.stop()}async updated(n){super.updated(n),n.has("active")&&(this.active?this.start():this.stop()),n.has("anchor")&&this.handleAnchorChange(),this.active&&(await this.updateComplete,this.reposition())}async handleAnchorChange(){if(await this.stop(),this.anchor&&typeof this.anchor=="string"){let n=this.getRootNode();this.anchorEl=n.getElementById(this.anchor)}else this.anchor instanceof Element?this.anchorEl=this.anchor:this.anchorEl=this.querySelector('[slot="anchor"]');if(this.anchorEl instanceof HTMLSlotElement&&(this.anchorEl=this.anchorEl.assignedElements({flatten:!0})[0]),!this.anchorEl)throw new Error("Invalid anchor element: no anchor could be found using the anchor slot or the anchor attribute.");this.start()}start(){this.anchorEl&&(this.cleanup=Gt(this.anchorEl,this.container,()=>{this.reposition()}))}async stop(){return new Promise(n=>{this.cleanup?(this.cleanup(),this.cleanup=void 0,this.removeAttribute("data-current-placement"),this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height"),requestAnimationFrame(()=>n())):n()})}reposition(){if(!this.active||!this.anchorEl)return;let n=[xt({mainAxis:this.distance,crossAxis:this.skidding})];this.sync?n.push(rt({apply:({rects:s})=>{let r=this.sync==="width"||this.sync==="both",o=this.sync==="height"||this.sync==="both";this.container.style.width=r?`${s.reference.width}px`:"",this.container.style.height=o?`${s.reference.height}px`:""}})):(this.container.style.width="",this.container.style.height=""),this.flip&&n.push(wt({boundary:this.flipBoundary,fallbackPlacements:this.flipFallbackPlacements,fallbackStrategy:this.flipFallbackStrategy==="best-fit"?"bestFit":"initialPlacement",padding:this.flipPadding})),this.shift&&n.push(bt({boundary:this.shiftBoundary,padding:this.shiftPadding})),this.autoSize?n.push(rt({boundary:this.autoSizeBoundary,padding:this.autoSizePadding,apply:({availableWidth:s,availableHeight:r})=>{this.autoSize==="vertical"||this.autoSize==="both"?this.style.setProperty("--auto-size-available-height",`${r}px`):this.style.removeProperty("--auto-size-available-height"),this.autoSize==="horizontal"||this.autoSize==="both"?this.style.setProperty("--auto-size-available-width",`${s}px`):this.style.removeProperty("--auto-size-available-width")}})):(this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height")),this.arrow&&n.push(yt({element:this.arrowElement,padding:this.arrowPadding}));let i=this.strategy==="absolute"?s=>tt.getOffsetParent(s,Jt):tt.getOffsetParent;It(this.anchorEl,this.container,{placement:this.placement,middleware:n,strategy:this.strategy,platform:k(T({},tt),{getOffsetParent:i})}).then(({x:s,y:r,middlewareData:o,placement:l})=>{let c=getComputedStyle(this).direction==="rtl",f={top:"bottom",right:"left",bottom:"top",left:"right"}[l.split("-")[0]];if(this.setAttribute("data-current-placement",l),Object.assign(this.container.style,{left:`${s}px`,top:`${r}px`}),this.arrow){let p=o.arrow.x,a=o.arrow.y,u="",h="",m="",g="";if(this.arrowPlacement==="start"){let y=typeof p=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";u=typeof a=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"",h=c?y:"",g=c?"":y}else if(this.arrowPlacement==="end"){let y=typeof p=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";h=c?"":y,g=c?y:"",m=typeof a=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:""}else this.arrowPlacement==="center"?(g=typeof p=="number"?`calc(50% - var(--arrow-size) * 0.75${["left","right"].includes(f)?" + 1px":""})`:"",u=typeof a=="number"?`calc(50% - var(--arrow-size) * 0.75${["left","right"].includes(f)?" + 1px":""})`:""):(g=typeof p=="number"?`${p}px`:"",u=typeof a=="number"?`${a}px`:"");let x={top:"rotate(180deg)",bottom:"rotate(0deg)",left:"rotate(90deg)",right:"rotate(-90deg)"}[f],w=`calc(var(--arrow-size) * -1${["left","right"].includes(f)?" - 1px":""})`;Object.assign(this.arrowElement.style,{top:u,right:h,bottom:m,left:g,transform:x,[f]:w})}}),this.emit("cps-reposition")}render(){return ut`
      <slot name="anchor" @slotchange=${this.handleAnchorChange}></slot>

      <div
        part="container"
        class=${Ot({popover:!0,"popover--active":this.active,"popover--fixed":this.strategy==="fixed","popover--has-arrow":this.arrow})}
      >
        <slot></slot>
        ${this.arrow?ut`<div part="arrow" class="popup__arrow" role="presentation"></div>`:""}
      </div>
    `}};d(v,"CpsPopover"),v.styles=Dt,E([ht(".popover")],v.prototype,"container",2),E([ht(".popup__arrow")],v.prototype,"arrowElement",2),E([R()],v.prototype,"anchor",2),E([R({type:Boolean,reflect:!0})],v.prototype,"active",2),E([R({reflect:!0})],v.prototype,"placement",2),E([R({reflect:!0})],v.prototype,"strategy",2),E([R({type:Number})],v.prototype,"distance",2),E([R({type:Number})],v.prototype,"skidding",2),E([R({type:Boolean})],v.prototype,"arrow",2),E([R({attribute:"arrow-placement"})],v.prototype,"arrowPlacement",2),E([R({attribute:"arrow-padding",type:Number})],v.prototype,"arrowPadding",2),E([R({type:Boolean})],v.prototype,"flip",2),E([R({attribute:"flip-fallback-placements",converter:{fromAttribute:t=>t.split(" ").map(e=>e.trim()).filter(e=>e!==""),toAttribute:t=>t.join(" ")}})],v.prototype,"flipFallbackPlacements",2),E([R({attribute:"flip-fallback-strategy"})],v.prototype,"flipFallbackStrategy",2),E([R({type:Object})],v.prototype,"flipBoundary",2),E([R({attribute:"flip-padding",type:Number})],v.prototype,"flipPadding",2),E([R({type:Boolean})],v.prototype,"shift",2),E([R({type:Object})],v.prototype,"shiftBoundary",2),E([R({attribute:"shift-padding",type:Number})],v.prototype,"shiftPadding",2),E([R({attribute:"auto-size"})],v.prototype,"autoSize",2),E([R()],v.prototype,"sync",2),E([R({type:Object})],v.prototype,"autoSizeBoundary",2),E([R({attribute:"auto-size-padding",type:Number})],v.prototype,"autoSizePadding",2),v=E([zt("cps-popover")],v);export{v as a};
