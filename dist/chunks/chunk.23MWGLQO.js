import{a as u,c}from"./chunk.K3RV6SX6.js";var l=new Set,v=new MutationObserver(h),s=new Map,f=document.documentElement.dir||"ltr",T=document.documentElement.lang||navigator.language,i;v.observe(document.documentElement,{attributes:!0,attributeFilter:["dir","lang"]});function E(...o){s||(s=new Map),o.forEach(t=>{let e=t.$code.toLowerCase();s.has(e)?s.set(e,u(u({},s.get(e)),t)):s.set(e,t),i||(i=t)}),h()}c(E,"registerTranslation");function h(){f=document.documentElement.dir||"ltr",T=document.documentElement.lang||navigator.language,l||(l=new Set),[...l.keys()].forEach(o=>{typeof o.requestUpdate=="function"&&o.requestUpdate()})}c(h,"update");var g=class{constructor(t){this.host=t,this.host.addController(this)}hostConnected(){l.add(this.host)}hostDisconnected(){l.delete(this.host)}dir(){return`${this.host.dir||f}`.toLowerCase()}lang(){return`${this.host.lang||T}`.toLowerCase()}getTranslationData(t){var m,d;let e=new Intl.Locale(t),n=e==null?void 0:e.language.toLowerCase(),a=(d=(m=e==null?void 0:e.region)==null?void 0:m.toLowerCase())!=null?d:"",r=s.get(`${n}-${a}`),p=s.get(n);return{locale:e,language:n,region:a,primary:r,secondary:p}}exists(t,e){var r;let{primary:n,secondary:a}=this.getTranslationData((r=e.lang)!=null?r:this.lang());return e=u({includeFallback:!1},e),!!(n!=null&&n[t]||a!=null&&a[t]||e.includeFallback&&i&&i[t])}term(t,...e){let{primary:n,secondary:a}=this.getTranslationData(this.lang()),r;if(n!=null&&n[t])r=n[t];else if(a!=null&&a[t])r=a[t];else if(i&&i[t])r=i[t];else return console.error(`No translation found for: ${String(t)}`),String(t);return typeof r=="function"?r(...e):r}date(t,e){return t=new Date(t),new Intl.DateTimeFormat(this.lang(),e).format(t)}number(t,e){return t=Number(t),isNaN(t)?"":new Intl.NumberFormat(this.lang(),e).format(t)}relativeTime(t,e,n){return new Intl.RelativeTimeFormat(this.lang(),n).format(t,e)}};c(g,"LocalizeController");export{E as a,h as b,g as c};
