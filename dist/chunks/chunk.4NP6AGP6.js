import{a as Nt}from"./chunk.NIS4RQ6F.js";import{a as Bt}from"./chunk.MIZ6RN32.js";import{a as Ht,b as R,d as wt,e as Ft}from"./chunk.JOTZQUUG.js";import{a as yt}from"./chunk.XKNP6CD6.js";import{a as L,b as H,c as f,d as st,e as E}from"./chunk.K3RV6SX6.js";function J(t){return t.split("-")[1]}f(J,"t");function vt(t){return t==="y"?"height":"width"}f(vt,"e");function I(t){return t.split("-")[0]}f(I,"n");function K(t){return["top","bottom"].includes(I(t))?"x":"y"}f(K,"o");function Mt(t,e,n){let{reference:i,floating:o}=t,r=i.x+i.width/2-o.width/2,s=i.y+i.height/2-o.height/2,l=K(e),a=vt(l),u=i[a]/2-o[a]/2,d=l==="x",h;switch(I(e)){case"top":h={x:r,y:i.y-o.height};break;case"bottom":h={x:r,y:i.y+i.height};break;case"right":h={x:i.x+i.width,y:s};break;case"left":h={x:i.x-o.width,y:s};break;default:h={x:i.x,y:i.y}}switch(J(e)){case"start":h[l]-=u*(n&&d?-1:1);break;case"end":h[l]+=u*(n&&d?-1:1)}return h}f(Mt,"i");var $t=f(async(t,e,n)=>{let{placement:i="bottom",strategy:o="absolute",middleware:r=[],platform:s}=n,l=r.filter(Boolean),a=await(s.isRTL==null?void 0:s.isRTL(e)),u=await s.getElementRects({reference:t,floating:e,strategy:o}),{x:d,y:h}=Mt(u,i,a),p=i,m={},c=0;for(let g=0;g<l.length;g++){let{name:y,fn:w}=l[g],{x,y:b,data:P,reset:A}=await w({x:d,y:h,initialPlacement:i,placement:p,strategy:o,middlewareData:m,rects:u,platform:s,elements:{reference:t,floating:e}});d=x!=null?x:d,h=b!=null?b:h,m=H(L({},m),{[y]:L(L({},m[y]),P)}),A&&c<=50&&(c++,typeof A=="object"&&(A.placement&&(p=A.placement),A.rects&&(u=A.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:o}):A.rects),{x:d,y:h}=Mt(u,p,a)),g=-1)}return{x:d,y:h,placement:p,strategy:o,middlewareData:m}},"r");function Q(t,e){return typeof t=="function"?t(e):t}f(Q,"a");function Wt(t){return typeof t!="number"?function(e){return L({top:0,right:0,bottom:0,left:0},e)}(t):{top:t,right:t,bottom:t,left:t}}f(Wt,"l");function it(t){return H(L({},t),{top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height})}f(it,"s");async function ct(t,e){var n;e===void 0&&(e={});let{x:i,y:o,platform:r,rects:s,elements:l,strategy:a}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=Q(e,t),c=Wt(m),g=l[p?h==="floating"?"reference":"floating":h],y=it(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(g)))==null||n?g:g.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:a})),w=h==="floating"?H(L({},s.floating),{x:i,y:o}):s.reference,x=await(r.getOffsetParent==null?void 0:r.getOffsetParent(l.floating)),b=await(r.isElement==null?void 0:r.isElement(x))&&await(r.getScale==null?void 0:r.getScale(x))||{x:1,y:1},P=it(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({rect:w,offsetParent:x,strategy:a}):w);return{top:(y.top-P.top+c.top)/b.y,bottom:(P.bottom-y.bottom+c.bottom)/b.y,left:(y.left-P.left+c.left)/b.x,right:(P.right-y.right+c.right)/b.x}}f(ct,"c");var ot=Math.min,X=Math.max;function bt(t,e,n){return X(t,ot(e,n))}f(bt,"u");var Et=f(t=>({name:"arrow",options:t,async fn(e){let{x:n,y:i,placement:o,rects:r,platform:s,elements:l}=e,{element:a,padding:u=0}=Q(t,e)||{};if(a==null)return{};let d=Wt(u),h={x:n,y:i},p=K(o),m=vt(p),c=await s.getDimensions(a),g=p==="y",y=g?"top":"left",w=g?"bottom":"right",x=g?"clientHeight":"clientWidth",b=r.reference[m]+r.reference[p]-h[p]-r.floating[m],P=h[p]-r.reference[p],A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a)),O=A?A[x]:0;O&&await(s.isElement==null?void 0:s.isElement(A))||(O=l.floating[x]||r.floating[m]);let S=b/2-P/2,F=O/2-c[m]/2-1,$=ot(d[y],F),W=ot(d[w],F),V=$,z=O-c[m]-W,T=O/2-c[m]/2+S,D=bt(V,T,z),B=J(o)!=null&&T!=D&&r.reference[m]/2-(T<V?$:W)-c[m]/2<0?T<V?V-T:z-T:0;return{[p]:h[p]-B,data:{[p]:D,centerOffset:T-D+B}}}}),"g"),ne=["top","right","bottom","left"],ue=ne.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]),ie={left:"right",right:"left",bottom:"top",top:"bottom"};function lt(t){return t.replace(/left|right|bottom|top/g,e=>ie[e])}f(lt,"y");function oe(t,e,n){n===void 0&&(n=!1);let i=J(t),o=K(t),r=vt(o),s=o==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(s=lt(s)),{main:s,cross:lt(s)}}f(oe,"x");var re={start:"end",end:"start"};function xt(t){return t.replace(/start|end/g,e=>re[e])}f(xt,"v");var Rt=f(function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n;let{placement:i,middlewareData:o,rects:r,initialPlacement:s,platform:l,elements:a}=e,V=Q(t,e),{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:c=!0}=V,g=st(V,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]),y=I(i),w=I(s)===s,x=await(l.isRTL==null?void 0:l.isRTL(a.floating)),b=h||(w||!c?[lt(s)]:function(z){let T=lt(z);return[xt(z),T,xt(T)]}(s));h||m==="none"||b.push(...function(z,T,D,B){let M=J(z),k=function(nt,gt,Zt){let kt=["left","right"],Dt=["right","left"],te=["top","bottom"],ee=["bottom","top"];switch(nt){case"top":case"bottom":return Zt?gt?Dt:kt:gt?kt:Dt;case"left":case"right":return gt?te:ee;default:return[]}}(I(z),D==="start",B);return M&&(k=k.map(nt=>nt+"-"+M),T&&(k=k.concat(k.map(xt)))),k}(s,c,m,x));let P=[s,...b],A=await ct(e,g),O=[],S=((n=o.flip)==null?void 0:n.overflows)||[];if(u&&O.push(A[y]),d){let{main:z,cross:T}=oe(i,r,x);O.push(A[z],A[T])}if(S=[...S,{placement:i,overflows:O}],!O.every(z=>z<=0)){var F,$;let z=(((F=o.flip)==null?void 0:F.index)||0)+1,T=P[z];if(T)return{data:{index:z,overflows:S},reset:{placement:T}};let D=($=S.filter(B=>B.overflows[0]<=0).sort((B,M)=>B.overflows[1]-M.overflows[1])[0])==null?void 0:$.placement;if(!D)switch(p){case"bestFit":{var W;let B=(W=S.map(M=>[M.placement,M.overflows.filter(k=>k>0).reduce((k,nt)=>k+nt,0)]).sort((M,k)=>M[1]-k[1])[0])==null?void 0:W[0];B&&(D=B);break}case"initialPlacement":D=s}if(i!==D)return{reset:{placement:D}}}return{}}}},"A");var At=f(function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){let{x:n,y:i}=e,o=await async function(r,s){let{placement:l,platform:a,elements:u}=r,d=await(a.isRTL==null?void 0:a.isRTL(u.floating)),h=I(l),p=J(l),m=K(l)==="x",c=["left","top"].includes(h)?-1:1,g=d&&m?-1:1,y=Q(s,r),{mainAxis:w,crossAxis:x,alignmentAxis:b}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:L({mainAxis:0,crossAxis:0,alignmentAxis:null},y);return p&&typeof b=="number"&&(x=p==="end"?-1*b:b),m?{x:x*g,y:w*c}:{x:w*c,y:x*g}}(e,t);return{x:n+o.x,y:i+o.y,data:o}}}},"L");function ae(t){return t==="x"?"y":"x"}f(ae,"k");var St=f(function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){let{x:n,y:i,placement:o}=e,y=Q(t,e),{mainAxis:r=!0,crossAxis:s=!1,limiter:l={fn:w=>{let{x,y:b}=w;return{x,y:b}}}}=y,a=st(y,["mainAxis","crossAxis","limiter"]),u={x:n,y:i},d=await ct(e,a),h=K(I(o)),p=ae(h),m=u[h],c=u[p];if(r){let w=h==="y"?"bottom":"right";m=bt(m+d[h==="y"?"top":"left"],m,m-d[w])}if(s){let w=p==="y"?"bottom":"right";c=bt(c+d[p==="y"?"top":"left"],c,c-d[w])}let g=l.fn(H(L({},e),{[h]:m,[p]:c}));return H(L({},g),{data:{x:g.x-n,y:g.y-i}})}}},"O");var ft=f(function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){let{placement:n,rects:i,platform:o,elements:r}=e,O=Q(t,e),{apply:s=f(()=>{},"g")}=O,l=st(O,["apply"]),a=await ct(e,l),u=I(n),d=J(n),h=K(n)==="x",{width:p,height:m}=i.floating,c,g;u==="top"||u==="bottom"?(c=u,g=d===(await(o.isRTL==null?void 0:o.isRTL(r.floating))?"start":"end")?"left":"right"):(g=u,c=d==="end"?"top":"bottom");let y=m-a[c],w=p-a[g],x=!e.middlewareData.shift,b=y,P=w;if(h){let S=p-a.left-a.right;P=d||x?ot(w,S):S}else{let S=m-a.top-a.bottom;b=d||x?ot(y,S):S}if(x&&!d){let S=X(a.left,0),F=X(a.right,0),$=X(a.top,0),W=X(a.bottom,0);h?P=p-2*(S!==0||F!==0?S+F:X(a.left,a.right)):b=m-2*($!==0||W!==0?$+W:X(a.top,a.bottom))}await s(H(L({},e),{availableWidth:P,availableHeight:b}));let A=await o.getDimensions(r.floating);return p!==A.width||m!==A.height?{reset:{rects:!0}}:{}}}},"C");function N(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}f(N,"n");function j(t){return N(t).getComputedStyle(t)}f(j,"o");function qt(t){return t instanceof N(t).Node}f(qt,"i");function Y(t){return qt(t)?(t.nodeName||"").toLowerCase():"#document"}f(Y,"r");function C(t){return t instanceof HTMLElement||t instanceof N(t).HTMLElement}f(C,"c");function Ct(t){return typeof ShadowRoot!="undefined"&&(t instanceof N(t).ShadowRoot||t instanceof ShadowRoot)}f(Ct,"l");function rt(t){let{overflow:e,overflowX:n,overflowY:i,display:o}=j(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(o)}f(rt,"s");function se(t){return["table","td","th"].includes(Y(t))}f(se,"f");function Tt(t){let e=Pt(),n=j(t);return n.transform!=="none"||n.perspective!=="none"||!!n.containerType&&n.containerType!=="normal"||!e&&!!n.backdropFilter&&n.backdropFilter!=="none"||!e&&!!n.filter&&n.filter!=="none"||["transform","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}f(Tt,"u");function Pt(){return!(typeof CSS=="undefined"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}f(Pt,"a");function pt(t){return["html","body","#document"].includes(Y(t))}f(pt,"d");var Lt=Math.min,Z=Math.max,ht=Math.round,ut=Math.floor,U=f(t=>({x:t,y:t}),"y");function It(t){let e=j(t),n=parseFloat(e.width)||0,i=parseFloat(e.height)||0,o=C(t),r=o?t.offsetWidth:n,s=o?t.offsetHeight:i,l=ht(n)!==r||ht(i)!==s;return l&&(n=r,i=s),{width:n,height:i,$:l}}f(It,"w");function _(t){return t instanceof Element||t instanceof N(t).Element}f(_,"x");function zt(t){return _(t)?t:t.contextElement}f(zt,"v");function tt(t){let e=zt(t);if(!C(e))return U(1);let n=e.getBoundingClientRect(),{width:i,height:o,$:r}=It(e),s=(r?ht(n.width):n.width)/i,l=(r?ht(n.height):n.height)/o;return s&&Number.isFinite(s)||(s=1),l&&Number.isFinite(l)||(l=1),{x:s,y:l}}f(tt,"b");var le=U(0);function Yt(t){let e=N(t);return Pt()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:le}f(Yt,"T");function G(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);let o=t.getBoundingClientRect(),r=zt(t),s=U(1);e&&(i?_(i)&&(s=tt(i)):s=tt(t));let l=function(p,m,c){return m===void 0&&(m=!1),!(!c||m&&c!==N(p))&&m}(r,n,i)?Yt(r):U(0),a=(o.left+l.x)/s.x,u=(o.top+l.y)/s.y,d=o.width/s.x,h=o.height/s.y;if(r){let p=N(r),m=i&&_(i)?N(i):i,c=p.frameElement;for(;c&&i&&m!==p;){let g=tt(c),y=c.getBoundingClientRect(),w=getComputedStyle(c),x=y.left+(c.clientLeft+parseFloat(w.paddingLeft))*g.x,b=y.top+(c.clientTop+parseFloat(w.paddingTop))*g.y;a*=g.x,u*=g.y,d*=g.x,h*=g.y,a+=x,u+=b,c=N(c).frameElement}}return it({width:d,height:h,x:a,y:u})}f(G,"R");function mt(t){return _(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}f(mt,"E");function q(t){var e;return(e=(qt(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}f(q,"S");function Ut(t){return G(q(t)).left+mt(t).scrollLeft}f(Ut,"C");function et(t){if(Y(t)==="html")return t;let e=t.assignedSlot||t.parentNode||Ct(t)&&t.host||q(t);return Ct(e)?e.host:e}f(et,"F");function Xt(t){let e=et(t);return pt(e)?t.ownerDocument?t.ownerDocument.body:t.body:C(e)&&rt(e)?e:Xt(e)}f(Xt,"O");function dt(t,e){var n;e===void 0&&(e=[]);let i=Xt(t),o=i===((n=t.ownerDocument)==null?void 0:n.body),r=N(i);return o?e.concat(r,r.visualViewport||[],rt(i)?i:[]):e.concat(i,dt(i))}f(dt,"D");function Vt(t,e,n){let i;if(e==="viewport")i=function(o,r){let s=N(o),l=q(o),a=s.visualViewport,u=l.clientWidth,d=l.clientHeight,h=0,p=0;if(a){u=a.width,d=a.height;let m=Pt();(!m||m&&r==="fixed")&&(h=a.offsetLeft,p=a.offsetTop)}return{width:u,height:d,x:h,y:p}}(t,n);else if(e==="document")i=function(o){let r=q(o),s=mt(o),l=o.ownerDocument.body,a=Z(r.scrollWidth,r.clientWidth,l.scrollWidth,l.clientWidth),u=Z(r.scrollHeight,r.clientHeight,l.scrollHeight,l.clientHeight),d=-s.scrollLeft+Ut(o),h=-s.scrollTop;return j(l).direction==="rtl"&&(d+=Z(r.clientWidth,l.clientWidth)-a),{width:a,height:u,x:d,y:h}}(q(t));else if(_(e))i=function(o,r){let s=G(o,!0,r==="fixed"),l=s.top+o.clientTop,a=s.left+o.clientLeft,u=C(o)?tt(o):U(1);return{width:o.clientWidth*u.x,height:o.clientHeight*u.y,x:a*u.x,y:l*u.y}}(e,n);else{let o=Yt(t);i=H(L({},e),{x:e.x-o.x,y:e.y-o.y})}return it(i)}f(Vt,"H");function Gt(t,e){let n=et(t);return!(n===e||!_(n)||pt(n))&&(j(n).position==="fixed"||Gt(n,e))}f(Gt,"W");function ce(t,e,n){let i=C(e),o=q(e),r=n==="fixed",s=G(t,!0,r,e),l={scrollLeft:0,scrollTop:0},a=U(0);if(i||!i&&!r)if((Y(e)!=="body"||rt(o))&&(l=mt(e)),C(e)){let u=G(e,!0,r,e);a.x=u.x+e.clientLeft,a.y=u.y+e.clientTop}else o&&(a.x=Ut(o));return{x:s.left+l.scrollLeft-a.x,y:s.top+l.scrollTop-a.y,width:s.width,height:s.height}}f(ce,"M");function jt(t,e){return C(t)&&j(t).position!=="fixed"?e?e(t):t.offsetParent:null}f(jt,"z");function _t(t,e){let n=N(t);if(!C(t))return n;let i=jt(t,e);for(;i&&se(i)&&j(i).position==="static";)i=jt(i,e);return i&&(Y(i)==="html"||Y(i)==="body"&&j(i).position==="static"&&!Tt(i))?n:i||function(o){let r=et(o);for(;C(r)&&!pt(r);){if(Tt(r))return r;r=et(r)}return null}(t)||n}f(_t,"P");var at={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:n,strategy:i}=t,o=C(n),r=q(n);if(n===r)return e;let s={scrollLeft:0,scrollTop:0},l=U(1),a=U(0);if((o||!o&&i!=="fixed")&&((Y(n)!=="body"||rt(r))&&(s=mt(n)),C(n))){let u=G(n);l=tt(n),a.x=u.x+n.clientLeft,a.y=u.y+n.clientTop}return{width:e.width*l.x,height:e.height*l.y,x:e.x*l.x-s.scrollLeft*l.x+a.x,y:e.y*l.y-s.scrollTop*l.y+a.y}},getDocumentElement:q,getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:i,strategy:o}=t,r=[...n==="clippingAncestors"?function(a,u){let d=u.get(a);if(d)return d;let h=dt(a).filter(g=>_(g)&&Y(g)!=="body"),p=null,m=j(a).position==="fixed",c=m?et(a):a;for(;_(c)&&!pt(c);){let g=j(c),y=Tt(c);y||g.position!=="fixed"||(p=null),(m?!y&&!p:!y&&g.position==="static"&&p&&["absolute","fixed"].includes(p.position)||rt(c)&&!y&&Gt(a,c))?h=h.filter(w=>w!==c):p=g,c=et(c)}return u.set(a,h),h}(e,this._c):[].concat(n),i],s=r[0],l=r.reduce((a,u)=>{let d=Vt(e,u,o);return a.top=Z(d.top,a.top),a.right=Lt(d.right,a.right),a.bottom=Lt(d.bottom,a.bottom),a.left=Z(d.left,a.left),a},Vt(e,s,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:_t,getElementRects:async function(t){let{reference:e,floating:n,strategy:i}=t,o=this.getOffsetParent||_t,r=this.getDimensions;return{reference:ce(e,await o(n),i),floating:L({x:0,y:0},await r(n))}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){return It(t)},getScale:tt,isElement:_,isRTL:function(t){return getComputedStyle(t).direction==="rtl"}};function Jt(t,e,n,i){i===void 0&&(i={});let{ancestorScroll:o=!0,ancestorResize:r=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=i,u=zt(t),d=o||r?[...u?dt(u):[],...dt(e)]:[];d.forEach(y=>{o&&y.addEventListener("scroll",n,{passive:!0}),r&&y.addEventListener("resize",n)});let h=u&&l?function(y,w){let x,b=null,P=q(y);function A(){clearTimeout(x),b&&b.disconnect(),b=null}return f(A,"r"),f(function O(S,F){S===void 0&&(S=!1),F===void 0&&(F=1),A();let{left:$,top:W,width:V,height:z}=y.getBoundingClientRect();if(S||w(),!V||!z)return;let T={rootMargin:-ut(W)+"px "+-ut(P.clientWidth-($+V))+"px "+-ut(P.clientHeight-(W+z))+"px "+-ut($)+"px",threshold:Z(0,Lt(1,F))||1},D=!0;function B(M){let k=M[0].intersectionRatio;if(k!==F){if(!D)return O();k?O(!1,k):x=setTimeout(()=>{O(!1,1e-7)},100)}D=!1}f(B,"w");try{b=new IntersectionObserver(B,H(L({},T),{root:P.ownerDocument}))}catch(M){b=new IntersectionObserver(B,T)}b.observe(y)},"c")(!0),A}(u,n):null,p,m=-1,c=null;s&&(c=new ResizeObserver(y=>{let[w]=y;w&&w.target===u&&c&&(c.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{c&&c.observe(e)})),n()}),u&&!a&&c.observe(u),c.observe(e));let g=a?G(t):null;return a&&f(function y(){let w=G(t);!g||w.x===g.x&&w.y===g.y&&w.width===g.width&&w.height===g.height||n(),g=w,p=requestAnimationFrame(y)},"e")(),n(),()=>{d.forEach(y=>{o&&y.removeEventListener("scroll",n),r&&y.removeEventListener("resize",n)}),h&&h(),c&&c.disconnect(),c=null,a&&cancelAnimationFrame(p)}}f(Jt,"A");var Kt=f((t,e,n)=>{let i=new Map,o=L({platform:at},n),r=H(L({},o.platform),{_c:i});return $t(t,e,H(L({},o),{platform:r}))},"B");function Qt(t){return fe(t)}f(Qt,"t");function Ot(t){return t.assignedSlot?t.assignedSlot:t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}f(Ot,"o");function fe(t){for(let e=t;e;e=Ot(e))if(e instanceof Element&&getComputedStyle(e).display==="none")return null;for(let e=Ot(t);e;e=Ot(e)){if(!(e instanceof Element))continue;let n=getComputedStyle(e);if(n.display!=="contents"&&(n.position!=="static"||n.filter!=="none"||e.tagName==="BODY"))return e}return null}f(fe,"r");var v=class extends Ft{constructor(){super(...arguments);this.active=!1;this.placement="top";this.strategy="absolute";this.distance=0;this.skidding=0;this.arrow=!1;this.arrowPlacement="anchor";this.arrowPadding=10;this.flip=!1;this.flipFallbackPlacements="";this.flipFallbackStrategy="best-fit";this.flipPadding=0;this.shift=!1;this.shiftPadding=0;this.autoSizePadding=0}async connectedCallback(){super.connectedCallback(),await this.updateComplete,this.start()}disconnectedCallback(){this.stop()}async updated(n){super.updated(n),n.has("active")&&(this.active?this.start():this.stop()),n.has("anchor")&&this.handleAnchorChange(),this.active&&(await this.updateComplete,this.reposition())}async handleAnchorChange(){if(await this.stop(),this.anchor&&typeof this.anchor=="string"){let n=this.getRootNode();this.anchorEl=n.getElementById(this.anchor)}else this.anchor instanceof Element?this.anchorEl=this.anchor:this.anchorEl=this.querySelector('[slot="anchor"]');if(this.anchorEl instanceof HTMLSlotElement&&(this.anchorEl=this.anchorEl.assignedElements({flatten:!0})[0]),!this.anchorEl)throw new Error("Invalid anchor element: no anchor could be found using the anchor slot or the anchor attribute.");this.start()}start(){this.anchorEl&&(this.cleanup=Jt(this.anchorEl,this.container,()=>{this.reposition()}))}async stop(){return new Promise(n=>{this.cleanup?(this.cleanup(),this.cleanup=void 0,this.removeAttribute("data-current-placement"),this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height"),requestAnimationFrame(()=>n())):n()})}reposition(){if(!this.active||!this.anchorEl)return;let n=[At({mainAxis:this.distance,crossAxis:this.skidding})];this.sync?n.push(ft({apply:({rects:o})=>{let r=this.sync==="width"||this.sync==="both",s=this.sync==="height"||this.sync==="both";this.container.style.width=r?`${o.reference.width}px`:"",this.container.style.height=s?`${o.reference.height}px`:""}})):(this.container.style.width="",this.container.style.height=""),this.flip&&n.push(Rt({boundary:this.flipBoundary,fallbackPlacements:this.flipFallbackPlacements,fallbackStrategy:this.flipFallbackStrategy==="best-fit"?"bestFit":"initialPlacement",padding:this.flipPadding})),this.shift&&n.push(St({boundary:this.shiftBoundary,padding:this.shiftPadding})),this.autoSize?n.push(ft({boundary:this.autoSizeBoundary,padding:this.autoSizePadding,apply:({availableWidth:o,availableHeight:r})=>{this.autoSize==="vertical"||this.autoSize==="both"?this.style.setProperty("--auto-size-available-height",`${r}px`):this.style.removeProperty("--auto-size-available-height"),this.autoSize==="horizontal"||this.autoSize==="both"?this.style.setProperty("--auto-size-available-width",`${o}px`):this.style.removeProperty("--auto-size-available-width")}})):(this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height")),this.arrow&&n.push(Et({element:this.arrowElement,padding:this.arrowPadding}));let i=this.strategy==="absolute"?o=>at.getOffsetParent(o,Qt):at.getOffsetParent;Kt(this.anchorEl,this.container,{placement:this.placement,middleware:n,strategy:this.strategy,platform:H(L({},at),{getOffsetParent:i})}).then(({x:o,y:r,middlewareData:s,placement:l})=>{let a=getComputedStyle(this).direction==="rtl",u={top:"bottom",right:"left",bottom:"top",left:"right"}[l.split("-")[0]];if(this.setAttribute("data-current-placement",l),Object.assign(this.container.style,{left:`${o}px`,top:`${r}px`}),this.arrow){let d=s.arrow.x,h=s.arrow.y,p="",m="",c="",g="";if(this.arrowPlacement==="start"){let x=typeof d=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";p=typeof h=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"",m=a?x:"",g=a?"":x}else if(this.arrowPlacement==="end"){let x=typeof d=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";m=a?"":x,g=a?x:"",c=typeof h=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:""}else this.arrowPlacement==="center"?(g=typeof d=="number"?`calc(50% - var(--arrow-size) * 0.75${["left","right"].includes(u)?" + 1px":""})`:"",p=typeof h=="number"?`calc(50% - var(--arrow-size) * 0.75${["left","right"].includes(u)?" + 1px":""})`:""):(g=typeof d=="number"?`${d}px`:"",p=typeof h=="number"?`${h}px`:"");let y={top:"rotate(180deg)",bottom:"rotate(0deg)",left:"rotate(90deg)",right:"rotate(-90deg)"}[u],w=`calc(var(--arrow-size) * -1${["left","right"].includes(u)?" - 1px":""})`;Object.assign(this.arrowElement.style,{top:p,right:m,bottom:c,left:g,transform:y,[u]:w})}}),this.emit("cps-reposition")}render(){return yt`
      <slot name="anchor" @slotchange=${this.handleAnchorChange}></slot>

      <div
        part="container"
        class=${Bt({popover:!0,"popover--active":this.active,"popover--fixed":this.strategy==="fixed","popover--has-arrow":this.arrow})}
      >
        <slot></slot>
        ${this.arrow?yt`<div part="arrow" class="popup__arrow" role="presentation"></div>`:""}
      </div>
    `}};f(v,"CpsPopover"),v.styles=Nt,E([wt(".popover")],v.prototype,"container",2),E([wt(".popup__arrow")],v.prototype,"arrowElement",2),E([R()],v.prototype,"anchor",2),E([R({type:Boolean,reflect:!0})],v.prototype,"active",2),E([R({reflect:!0})],v.prototype,"placement",2),E([R({reflect:!0})],v.prototype,"strategy",2),E([R({type:Number})],v.prototype,"distance",2),E([R({type:Number})],v.prototype,"skidding",2),E([R({type:Boolean})],v.prototype,"arrow",2),E([R({attribute:"arrow-placement"})],v.prototype,"arrowPlacement",2),E([R({attribute:"arrow-padding",type:Number})],v.prototype,"arrowPadding",2),E([R({type:Boolean})],v.prototype,"flip",2),E([R({attribute:"flip-fallback-placements",converter:{fromAttribute:t=>t.split(" ").map(e=>e.trim()).filter(e=>e!==""),toAttribute:t=>t.join(" ")}})],v.prototype,"flipFallbackPlacements",2),E([R({attribute:"flip-fallback-strategy"})],v.prototype,"flipFallbackStrategy",2),E([R({type:Object})],v.prototype,"flipBoundary",2),E([R({attribute:"flip-padding",type:Number})],v.prototype,"flipPadding",2),E([R({type:Boolean})],v.prototype,"shift",2),E([R({type:Object})],v.prototype,"shiftBoundary",2),E([R({attribute:"shift-padding",type:Number})],v.prototype,"shiftPadding",2),E([R({attribute:"auto-size"})],v.prototype,"autoSize",2),E([R()],v.prototype,"sync",2),E([R({type:Object})],v.prototype,"autoSizeBoundary",2),E([R({attribute:"auto-size-padding",type:Number})],v.prototype,"autoSizePadding",2),v=E([Ht("cps-popover")],v);export{v as a};
