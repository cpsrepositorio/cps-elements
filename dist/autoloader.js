import{b as c}from"./chunks/chunk.ZXKMWSDG.js";import{c as i}from"./chunks/chunk.K3RV6SX6.js";var m=new MutationObserver(e=>{for(let{addedNodes:t}of e)for(let o of t)o.nodeType===Node.ELEMENT_NODE&&a(o)});async function a(e){let t=e instanceof Element?e.tagName.toLowerCase():"",o=t==null?void 0:t.includes("-"),n=[...e.querySelectorAll(":not(:defined)")].map(s=>s.tagName.toLowerCase()).filter(s=>s.startsWith("cps-"));o&&!customElements.get(t)&&n.push(t);let r=[...new Set(n)];await Promise.allSettled(r.map(s=>l(s)))}i(a,"discover");function l(e){let t=e.replace(/^cps-/i,""),o=c(`components/${t}.js`);return customElements.get(e)?Promise.resolve():new Promise((n,r)=>{import(o).then(()=>n()).catch(()=>r(new Error(`Unable to automatically load<${e}> from ${o}`)))})}i(l,"register");a(document.body);m.observe(document.body,{subtree:!0,childList:!0});export{a as discover};
